<ion-header>
  <ion-toolbar color="primary">
    <ion-title class="ion-text-center">Estudiante</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <!-- Selecci贸n de curso -->
  <ion-item>
    <ion-label>Curso</ion-label>
    <ion-select [(ngModel)]="selectedCourseId" (ionChange)="onCourseChange($event.detail.value)">
      <ion-select-option *ngFor="let course of courses" [value]="course.id">{{ course.nombre }}</ion-select-option>
    </ion-select>
  </ion-item>

  <!-- Bot贸n para escanear -->
  <ion-button expand="full" color="secondary" (click)="scan()" *ngIf="isSupported" class="scan-btn">
    Escanear C贸digo QR
  </ion-button>

  <!-- Lista de asistencia -->
  <ion-list>
    <ion-item *ngFor="let record of attendanceRecords" class="attendance-item">
      <ion-label>
        <h2>{{ record.date }}</h2>
        <p><strong>Curso:</strong> {{ record.courseId }}</p>
        <p><strong>Secci贸n:</strong> {{ record.section }}</p>
        <p><strong>Hora:</strong> {{ record.time }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- Mensaje si no hay asistencias -->
  <ion-item *ngIf="attendanceRecords.length === 0">
    <ion-label>No se han registrado asistencias para este curso.</ion-label>
  </ion-item>
</ion-content>
